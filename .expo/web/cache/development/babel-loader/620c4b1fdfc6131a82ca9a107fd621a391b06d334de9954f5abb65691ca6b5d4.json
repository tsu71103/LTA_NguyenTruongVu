{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction ProductDetail(_ref) {\n  var route = _ref.route;\n  var navigation = useNavigation();\n  var _route$params = route.params,\n    name = _route$params.name,\n    url = _route$params.url,\n    price = _route$params.price;\n  var _useState = useState(1),\n    _useState2 = _slicedToArray(_useState, 2),\n    count = _useState2[0],\n    setCount = _useState2[1];\n  var addToCart = function addToCart() {\n    global.mycart = global.mycart || [];\n    var existingItemIndex = global.mycart.findIndex(function (item) {\n      return item.name === name;\n    });\n    if (existingItemIndex !== -1) {\n      global.mycart[existingItemIndex].quantity += count;\n    } else {\n      var newItem = {\n        name: name,\n        url: url,\n        price: price,\n        quantity: count,\n        image: url\n      };\n      global.mycart.push(newItem);\n    }\n    setCount(1);\n    console.log(\"Cart after adding item:\", global.mycart);\n  };\n  var increaseQuantity = function increaseQuantity() {\n    setCount(count + 1);\n  };\n  var decreaseQuantity = function decreaseQuantity() {\n    if (count > 1) {\n      setCount(count - 1);\n    }\n  };\n  var goToCart = function goToCart() {\n    navigation.navigate(\"Cart\", {\n      addedItems: global.mycart\n    });\n  };\n  return _jsxs(ScrollView, {\n    children: [_jsxs(View, {\n      style: {\n        flex: 1,\n        margin: 10\n      },\n      children: [_jsx(Image, {\n        source: {\n          uri: url\n        },\n        style: {\n          height: 200,\n          width: \"100%\",\n          resizeMode: \"cover\",\n          borderRadius: 10\n        }\n      }), _jsxs(View, {\n        style: {\n          marginTop: 10\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 20,\n            fontWeight: \"bold\"\n          },\n          children: name\n        }), _jsxs(Text, {\n          style: {\n            fontSize: 16,\n            color: \"gray\"\n          },\n          children: [\"Price: $\", price]\n        })]\n      })]\n    }), _jsxs(View, {\n      style: {\n        margin: 10\n      },\n      children: [_jsx(Text, {\n        style: {\n          fontSize: 18,\n          marginBottom: 10\n        },\n        children: \"Quantity:\"\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\"\n        },\n        children: [_jsx(TouchableOpacity, {\n          onPress: decreaseQuantity,\n          style: styles.button,\n          children: _jsx(Text, {\n            style: styles.buttonText,\n            children: \"-\"\n          })\n        }), _jsx(Text, {\n          style: {\n            fontSize: 16,\n            marginHorizontal: 10\n          },\n          children: count\n        }), _jsx(TouchableOpacity, {\n          onPress: increaseQuantity,\n          style: styles.button,\n          children: _jsx(Text, {\n            style: styles.buttonText,\n            children: \"+\"\n          })\n        })]\n      })]\n    }), _jsx(TouchableOpacity, {\n      onPress: addToCart,\n      style: styles.addToCartButton,\n      children: _jsx(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 18\n        },\n        children: \"Add to Cart\"\n      })\n    }), _jsx(TouchableOpacity, {\n      onPress: goToCart,\n      style: styles.viewCartButton,\n      children: _jsx(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 18\n        },\n        children: \"View Cart\"\n      })\n    })]\n  });\n}\nvar styles = {\n  button: {\n    backgroundColor: \"#3498db\",\n    borderRadius: 15,\n    padding: 10\n  },\n  buttonText: {\n    color: \"white\",\n    fontSize: 20\n  },\n  addToCartButton: {\n    backgroundColor: \"blue\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 15,\n    height: 40,\n    marginHorizontal: 10,\n    marginTop: 10\n  },\n  viewCartButton: {\n    backgroundColor: \"red\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 15,\n    height: 40,\n    marginHorizontal: 10,\n    marginTop: 10\n  }\n};\nexport default ProductDetail;","map":{"version":3,"names":["React","useState","View","Text","Image","ScrollView","TouchableOpacity","useNavigation","jsx","_jsx","jsxs","_jsxs","ProductDetail","_ref","route","navigation","_route$params","params","name","url","price","_useState","_useState2","_slicedToArray","count","setCount","addToCart","global","mycart","existingItemIndex","findIndex","item","quantity","newItem","image","push","console","log","increaseQuantity","decreaseQuantity","goToCart","navigate","addedItems","children","style","flex","margin","source","uri","height","width","resizeMode","borderRadius","marginTop","fontSize","fontWeight","color","marginBottom","flexDirection","alignItems","onPress","styles","button","buttonText","marginHorizontal","addToCartButton","viewCartButton","backgroundColor","padding","justifyContent"],"sources":["C:/DiaD/HocHanh/ReactNative/Example03/component/ProductDetail.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { View, Text, Image, ScrollView, TouchableOpacity } from \"react-native\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nfunction ProductDetail({ route }) {\n  const navigation = useNavigation();\n  const { name, url, price } = route.params;\n  const [count, setCount] = useState(1);\n\n  const addToCart = () => {\n    global.mycart = global.mycart || [];\n\n    // Check if the product is already in the cart\n    const existingItemIndex = global.mycart.findIndex(\n      (item) => item.name === name\n    );\n\n    if (existingItemIndex !== -1) {\n      // If yes, increase the quantity by 1\n      global.mycart[existingItemIndex].quantity += count;\n    } else {\n      // If not, add the new product to the cart\n      const newItem = {\n        name,\n        url,\n        price,\n        quantity: count,\n        image: url,\n      };\n      global.mycart.push(newItem);\n    }\n\n    setCount(1);\n    console.log(\"Cart after adding item:\", global.mycart);\n  };\n\n  const increaseQuantity = () => {\n    setCount(count + 1);\n  };\n\n  const decreaseQuantity = () => {\n    // Ensure the quantity never goes below 1\n    if (count > 1) {\n      setCount(count - 1);\n    }\n  };\n\n  const goToCart = () => {\n    navigation.navigate(\"Cart\", { addedItems: global.mycart });\n  };\n\n  return (\n    <ScrollView>\n      <View style={{ flex: 1, margin: 10 }}>\n        <Image\n          source={{ uri: url }}\n          style={{ height: 200, width: \"100%\", resizeMode: \"cover\", borderRadius: 10 }}\n        />\n        <View style={{ marginTop: 10 }}>\n          <Text style={{ fontSize: 20, fontWeight: \"bold\" }}>{name}</Text>\n          <Text style={{ fontSize: 16, color: \"gray\" }}>Price: ${price}</Text>\n        </View>\n      </View>\n\n      <View style={{ margin: 10 }}>\n        <Text style={{ fontSize: 18, marginBottom: 10 }}>Quantity:</Text>\n        <View style={{ flexDirection: \"row\", alignItems: \"center\" }}>\n          <TouchableOpacity onPress={decreaseQuantity} style={styles.button}>\n            <Text style={styles.buttonText}>-</Text>\n          </TouchableOpacity>\n          <Text style={{ fontSize: 16, marginHorizontal: 10 }}>{count}</Text>\n          <TouchableOpacity onPress={increaseQuantity} style={styles.button}>\n            <Text style={styles.buttonText}>+</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n\n      <TouchableOpacity onPress={addToCart} style={styles.addToCartButton}>\n        <Text style={{ color: \"white\", fontSize: 18 }}>Add to Cart</Text>\n      </TouchableOpacity>\n\n      <TouchableOpacity onPress={goToCart} style={styles.viewCartButton}>\n        <Text style={{ color: \"white\", fontSize: 18 }}>View Cart</Text>\n      </TouchableOpacity>\n    </ScrollView>\n  );\n}\n\nconst styles = {\n  button: {\n    backgroundColor: \"#3498db\",\n    borderRadius: 15,\n    padding: 10,\n  },\n  buttonText: {\n    color: \"white\",\n    fontSize: 20,\n  },\n  addToCartButton: {\n    backgroundColor: \"blue\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 15,\n    height: 40,\n    marginHorizontal: 10,\n    marginTop: 10,\n  },\n  viewCartButton: {\n    backgroundColor: \"red\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 15,\n    height: 40,\n    marginHorizontal: 10,\n    marginTop: 10,\n  },\n};\n\nexport default ProductDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}