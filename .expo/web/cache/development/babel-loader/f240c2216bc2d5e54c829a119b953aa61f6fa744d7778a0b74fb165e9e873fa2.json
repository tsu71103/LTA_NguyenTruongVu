{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState, useCallback } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction Cart(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _ref2 = route.params || {},\n    addedItems = _ref2.addedItems;\n  var _useState = useState(addedItems || {}),\n    _useState2 = _slicedToArray(_useState, 2),\n    cartData = _useState2[0],\n    setCartData = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    updateState = _useState4[1];\n  var forceUpdate = useCallback(function () {\n    return updateState({});\n  }, []);\n  var removeFromCart = function removeFromCart(item) {\n    var updatedCart = global.mycart.filter(function (cartItem) {\n      return cartItem.name !== item.name;\n    });\n    global.mycart = updatedCart;\n    forceUpdate();\n  };\n  useEffect(function () {\n    setCartData(global.mycart || {});\n  }, [global.mycart]);\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      children: \"Added to Cart:\"\n    }), _jsx(FlatList, {\n      data: cartData,\n      keyExtractor: function keyExtractor(item) {\n        return item.name;\n      },\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsxs(View, {\n          children: [_jsx(Text, {\n            children: item.name\n          }), _jsxs(Text, {\n            children: [\"$\", item.price]\n          }), _jsx(Image, {\n            source: {\n              uri: item.image\n            },\n            style: {\n              height: 50,\n              width: 50\n            }\n          }), _jsxs(Text, {\n            children: [\"Quantity: \", item.quantity]\n          }), _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return removeFromCart(item);\n            },\n            children: _jsx(Text, {\n              children: \"Remove from Cart\"\n            })\n          })]\n        });\n      }\n    }), _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('Checkout');\n      },\n      children: _jsx(Text, {\n        children: \"Checkout\"\n      })\n    })]\n  });\n}\nexport default Cart;","map":{"version":3,"names":["React","useEffect","useState","useCallback","View","Text","FlatList","Image","TouchableOpacity","jsx","_jsx","jsxs","_jsxs","Cart","_ref","route","navigation","_ref2","params","addedItems","_useState","_useState2","_slicedToArray","cartData","setCartData","_useState3","_useState4","updateState","forceUpdate","removeFromCart","item","updatedCart","global","mycart","filter","cartItem","name","children","data","keyExtractor","renderItem","_ref3","price","source","uri","image","style","height","width","quantity","onPress","navigate"],"sources":["C:/DiaD/HocHanh/ReactNative/Example03/component/RegisterScreen.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\nimport { View, Text, FlatList, Image, TouchableOpacity } from 'react-native';\n\nfunction Cart({ route, navigation }) {\n  const { addedItems } = route.params || {};\n  const [cartData, setCartData] = useState(addedItems || {});\n  const [, updateState] = useState();\n  const forceUpdate = useCallback(() => updateState({}), []);\n\n  const removeFromCart = (item) => {\n    // Implement logic to remove the item from the cart\n    // For simplicity, let's assume global.mycart is your cart data\n    const updatedCart = global.mycart.filter(cartItem => cartItem.name !== item.name);\n    global.mycart = updatedCart;\n\n    // Trigger a force update to reload the component\n    forceUpdate();\n  };\n\n  useEffect(() => {\n    // Update the cart data when the component mounts or when global.mycart changes\n    setCartData(global.mycart || {});\n  }, [global.mycart]);\n\n  return (\n    <View>\n      {/* Hiển thị thông tin giỏ hàng */}\n      <Text>Added to Cart:</Text>\n      <FlatList\n        data={cartData}\n        keyExtractor={(item) => item.name}\n        renderItem={({ item }) => (\n          <View>\n            <Text>{item.name}</Text>\n            <Text>${item.price}</Text>\n            <Image source={{ uri: item.image }} style={{ height: 50, width: 50 }} />\n            <Text>Quantity: {item.quantity}</Text>\n            \n            {/* Button to remove item from cart */}\n            <TouchableOpacity onPress={() => removeFromCart(item)}>\n              <Text>Remove from Cart</Text>\n            </TouchableOpacity>\n          </View>\n        )}\n      />\n\n      {/* Optional: Button to navigate to checkout or continue shopping */}\n      <TouchableOpacity onPress={() => navigation.navigate('Checkout')}>\n        <Text>Checkout</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n\nexport default Cart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}