{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction Checkout(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _ref2 = route.params || {},\n    addedItems = _ref2.addedItems;\n  var _useState = useState(addedItems || []),\n    _useState2 = _slicedToArray(_useState, 2),\n    cartData = _useState2[0],\n    setCartData = _useState2[1];\n  var calculateTotalPrice = function calculateTotalPrice() {\n    return cartData.reduce(function (total, item) {\n      return total + item.price * item.quantity;\n    }, 0);\n  };\n  var placeOrder = function placeOrder() {\n    setCartData([]);\n    global.mycart = [];\n    navigation.navigate('Home');\n  };\n  useEffect(function () {\n    setCartData(global.mycart || []);\n  }, [global.mycart]);\n  var renderCartItem = function renderCartItem(_ref3) {\n    var item = _ref3.item;\n    return _jsxs(View, {\n      style: styles.cartItemContainer,\n      children: [_jsx(Image, {\n        source: {\n          uri: item.image\n        },\n        style: styles.cartItemImage\n      }), _jsxs(View, {\n        style: styles.cartItemDetails,\n        children: [_jsx(Text, {\n          style: styles.cartItemName,\n          children: item.name\n        }), _jsxs(Text, {\n          children: [\"$\", item.price]\n        }), _jsxs(Text, {\n          children: [\"Quantity: \", item.quantity]\n        })]\n      })]\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.checkoutTitle,\n      children: \"Checkout\"\n    }), _jsx(FlatList, {\n      data: cartData,\n      keyExtractor: function keyExtractor(item) {\n        return item.name;\n      },\n      renderItem: renderCartItem,\n      style: styles.cartList\n    }), _jsxs(View, {\n      style: styles.summaryContainer,\n      children: [_jsx(Text, {\n        style: styles.totalText,\n        children: \"Total:\"\n      }), _jsxs(Text, {\n        style: styles.totalPrice,\n        children: [\"$\", calculateTotalPrice()]\n      })]\n    }), _jsx(TouchableOpacity, {\n      onPress: placeOrder,\n      style: styles.placeOrderButton,\n      children: _jsx(Text, {\n        style: styles.placeOrderButtonText,\n        children: \"Place Order\"\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 15,\n    backgroundColor: '#fff'\n  },\n  checkoutTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10\n  },\n  cartList: {\n    marginBottom: 10\n  },\n  cartItemContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n    borderWidth: 1,\n    borderRadius: 8,\n    padding: 10\n  },\n  cartItemImage: {\n    height: 50,\n    width: 50,\n    borderRadius: 5\n  },\n  cartItemDetails: {\n    flex: 1,\n    marginLeft: 10\n  },\n  cartItemName: {\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  summaryContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10\n  },\n  totalText: {\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  totalPrice: {\n    fontSize: 18\n  },\n  placeOrderButton: {\n    backgroundColor: 'green',\n    padding: 15,\n    borderRadius: 8,\n    alignItems: 'center'\n  },\n  placeOrderButtonText: {\n    color: '#fff',\n    fontWeight: 'bold'\n  }\n});\nexport default Checkout;","map":{"version":3,"names":["React","useState","useEffect","View","Text","FlatList","Image","TouchableOpacity","StyleSheet","jsx","_jsx","jsxs","_jsxs","Checkout","_ref","route","navigation","_ref2","params","addedItems","_useState","_useState2","_slicedToArray","cartData","setCartData","calculateTotalPrice","reduce","total","item","price","quantity","placeOrder","global","mycart","navigate","renderCartItem","_ref3","style","styles","cartItemContainer","children","source","uri","image","cartItemImage","cartItemDetails","cartItemName","name","container","checkoutTitle","data","keyExtractor","renderItem","cartList","summaryContainer","totalText","totalPrice","onPress","placeOrderButton","placeOrderButtonText","create","flex","padding","backgroundColor","fontSize","fontWeight","marginBottom","flexDirection","alignItems","borderWidth","borderRadius","height","width","marginLeft","justifyContent","color"],"sources":["C:/DiaD/HocHanh/ReactNative/Example03/component/CheckOut.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, FlatList, Image, TouchableOpacity, StyleSheet } from 'react-native';\n\nfunction Checkout({ route, navigation }) {\n  const { addedItems } = route.params || {};\n  const [cartData, setCartData] = useState(addedItems || []);\n\n  const calculateTotalPrice = () => {\n    return cartData.reduce((total, item) => total + item.price * item.quantity, 0);\n  };\n\n  const placeOrder = () => {\n    // Clear the local cart state\n    setCartData([]);\n\n    // Clear the global cart state\n    global.mycart = [];\n\n    // Navigate to the order confirmation page or any other relevant screen\n    navigation.navigate('Home');\n  };\n\n  useEffect(() => {\n    // Update the local state when the component mounts or when global.mycart changes\n    setCartData(global.mycart || []);\n  }, [global.mycart]);\n\n  const renderCartItem = ({ item }) => (\n    <View style={styles.cartItemContainer}>\n      <Image source={{ uri: item.image }} style={styles.cartItemImage} />\n      <View style={styles.cartItemDetails}>\n        <Text style={styles.cartItemName}>{item.name}</Text>\n        <Text>${item.price}</Text>\n        <Text>Quantity: {item.quantity}</Text>\n      </View>\n    </View>\n  );\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.checkoutTitle}>Checkout</Text>\n      <FlatList\n        data={cartData}\n        keyExtractor={(item) => item.name}\n        renderItem={renderCartItem}\n        style={styles.cartList}\n      />\n      <View style={styles.summaryContainer}>\n        <Text style={styles.totalText}>Total:</Text>\n        <Text style={styles.totalPrice}>${calculateTotalPrice()}</Text>\n      </View>\n      <TouchableOpacity onPress={placeOrder} style={styles.placeOrderButton} >\n        <Text style={styles.placeOrderButtonText}>Place Order</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 15,\n    backgroundColor: '#fff',\n  },\n  checkoutTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10,\n  },\n  cartList: {\n    marginBottom: 10,\n  },\n  cartItemContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n    borderWidth: 1,\n    borderRadius: 8,\n    padding: 10,\n  },\n  cartItemImage: {\n    height: 50,\n    width: 50,\n    borderRadius: 5,\n  },\n  cartItemDetails: {\n    flex: 1,\n    marginLeft: 10,\n  },\n  cartItemName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  summaryContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: 10,\n  },\n  totalText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n  },\n  totalPrice: {\n    fontSize: 18,\n  },\n  placeOrderButton: {\n    backgroundColor: 'green',\n    padding: 15,\n    borderRadius: 8,\n    alignItems: 'center',\n  },\n  placeOrderButtonText: {\n    color: '#fff',\n    fontWeight: 'bold',\n  },\n});\n\nexport default Checkout;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,UAAA;AAAA,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAGnD,SAASC,QAAQA,CAAAC,IAAA,EAAwB;EAAA,IAArBC,KAAK,GAAAD,IAAA,CAALC,KAAK;IAAEC,UAAU,GAAAF,IAAA,CAAVE,UAAU;EACnC,IAAAC,KAAA,GAAuBF,KAAK,CAACG,MAAM,IAAI,CAAC,CAAC;IAAjCC,UAAU,GAAAF,KAAA,CAAVE,UAAU;EAClB,IAAAC,SAAA,GAAgCnB,QAAQ,CAACkB,UAAU,IAAI,EAAE,CAAC;IAAAE,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAnDG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAE5B,IAAMI,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAA,EAAS;IAChC,OAAOF,QAAQ,CAACG,MAAM,CAAC,UAACC,KAAK,EAAEC,IAAI;MAAA,OAAKD,KAAK,GAAGC,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACE,QAAQ;IAAA,GAAE,CAAC,CAAC;EAChF,CAAC;EAED,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;IAEvBP,WAAW,CAAC,EAAE,CAAC;IAGfQ,MAAM,CAACC,MAAM,GAAG,EAAE;IAGlBjB,UAAU,CAACkB,QAAQ,CAAC,MAAM,CAAC;EAC7B,CAAC;EAEDhC,SAAS,CAAC,YAAM;IAEdsB,WAAW,CAACQ,MAAM,CAACC,MAAM,IAAI,EAAE,CAAC;EAClC,CAAC,EAAE,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC;EAEnB,IAAME,cAAc,GAAG,SAAjBA,cAAcA,CAAAC,KAAA;IAAA,IAAMR,IAAI,GAAAQ,KAAA,CAAJR,IAAI;IAAA,OAC5BhB,KAAA,CAACT,IAAI;MAACkC,KAAK,EAAEC,MAAM,CAACC,iBAAkB;MAAAC,QAAA,GACpC9B,IAAA,CAACJ,KAAK;QAACmC,MAAM,EAAE;UAAEC,GAAG,EAAEd,IAAI,CAACe;QAAM,CAAE;QAACN,KAAK,EAAEC,MAAM,CAACM;MAAc,CAAE,CAAC,EACnEhC,KAAA,CAACT,IAAI;QAACkC,KAAK,EAAEC,MAAM,CAACO,eAAgB;QAAAL,QAAA,GAClC9B,IAAA,CAACN,IAAI;UAACiC,KAAK,EAAEC,MAAM,CAACQ,YAAa;UAAAN,QAAA,EAAEZ,IAAI,CAACmB;QAAI,CAAO,CAAC,EACpDnC,KAAA,CAACR,IAAI;UAAAoC,QAAA,GAAC,GAAC,EAACZ,IAAI,CAACC,KAAK;QAAA,CAAO,CAAC,EAC1BjB,KAAA,CAACR,IAAI;UAAAoC,QAAA,GAAC,YAAU,EAACZ,IAAI,CAACE,QAAQ;QAAA,CAAO,CAAC;MAAA,CAClC,CAAC;IAAA,CACH,CAAC;EAAA,CACR;EAED,OACElB,KAAA,CAACT,IAAI;IAACkC,KAAK,EAAEC,MAAM,CAACU,SAAU;IAAAR,QAAA,GAC5B9B,IAAA,CAACN,IAAI;MAACiC,KAAK,EAAEC,MAAM,CAACW,aAAc;MAAAT,QAAA,EAAC;IAAQ,CAAM,CAAC,EAClD9B,IAAA,CAACL,QAAQ;MACP6C,IAAI,EAAE3B,QAAS;MACf4B,YAAY,EAAE,SAAAA,aAACvB,IAAI;QAAA,OAAKA,IAAI,CAACmB,IAAI;MAAA,CAAC;MAClCK,UAAU,EAAEjB,cAAe;MAC3BE,KAAK,EAAEC,MAAM,CAACe;IAAS,CACxB,CAAC,EACFzC,KAAA,CAACT,IAAI;MAACkC,KAAK,EAAEC,MAAM,CAACgB,gBAAiB;MAAAd,QAAA,GACnC9B,IAAA,CAACN,IAAI;QAACiC,KAAK,EAAEC,MAAM,CAACiB,SAAU;QAAAf,QAAA,EAAC;MAAM,CAAM,CAAC,EAC5C5B,KAAA,CAACR,IAAI;QAACiC,KAAK,EAAEC,MAAM,CAACkB,UAAW;QAAAhB,QAAA,GAAC,GAAC,EAACf,mBAAmB,CAAC,CAAC;MAAA,CAAO,CAAC;IAAA,CAC3D,CAAC,EACPf,IAAA,CAACH,gBAAgB;MAACkD,OAAO,EAAE1B,UAAW;MAACM,KAAK,EAAEC,MAAM,CAACoB,gBAAiB;MAAAlB,QAAA,EACpE9B,IAAA,CAACN,IAAI;QAACiC,KAAK,EAAEC,MAAM,CAACqB,oBAAqB;QAAAnB,QAAA,EAAC;MAAW,CAAM;IAAC,CAC5C,CAAC;EAAA,CACf,CAAC;AAEX;AAEA,IAAMF,MAAM,GAAG9B,UAAU,CAACoD,MAAM,CAAC;EAC/BZ,SAAS,EAAE;IACTa,IAAI,EAAE,CAAC;IACPC,OAAO,EAAE,EAAE;IACXC,eAAe,EAAE;EACnB,CAAC;EACDd,aAAa,EAAE;IACbe,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,MAAM;IAClBC,YAAY,EAAE;EAChB,CAAC;EACDb,QAAQ,EAAE;IACRa,YAAY,EAAE;EAChB,CAAC;EACD3B,iBAAiB,EAAE;IACjB4B,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpBF,YAAY,EAAE,EAAE;IAChBG,WAAW,EAAE,CAAC;IACdC,YAAY,EAAE,CAAC;IACfR,OAAO,EAAE;EACX,CAAC;EACDlB,aAAa,EAAE;IACb2B,MAAM,EAAE,EAAE;IACVC,KAAK,EAAE,EAAE;IACTF,YAAY,EAAE;EAChB,CAAC;EACDzB,eAAe,EAAE;IACfgB,IAAI,EAAE,CAAC;IACPY,UAAU,EAAE;EACd,CAAC;EACD3B,YAAY,EAAE;IACZkB,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE;EACd,CAAC;EACDX,gBAAgB,EAAE;IAChBa,aAAa,EAAE,KAAK;IACpBO,cAAc,EAAE,eAAe;IAC/BR,YAAY,EAAE;EAChB,CAAC;EACDX,SAAS,EAAE;IACTS,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE;EACd,CAAC;EACDT,UAAU,EAAE;IACVQ,QAAQ,EAAE;EACZ,CAAC;EACDN,gBAAgB,EAAE;IAChBK,eAAe,EAAE,OAAO;IACxBD,OAAO,EAAE,EAAE;IACXQ,YAAY,EAAE,CAAC;IACfF,UAAU,EAAE;EACd,CAAC;EACDT,oBAAoB,EAAE;IACpBgB,KAAK,EAAE,MAAM;IACbV,UAAU,EAAE;EACd;AACF,CAAC,CAAC;AAEF,eAAepD,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}