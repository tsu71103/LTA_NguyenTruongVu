{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction Cart(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _ref2 = route.params || {},\n    addedItems = _ref2.addedItems;\n  var _useState = useState(addedItems || []),\n    _useState2 = _slicedToArray(_useState, 2),\n    cartData = _useState2[0],\n    setCartData = _useState2[1];\n  var removeFromCart = function removeFromCart(item) {\n    var updatedCart = cartData.filter(function (cartItem) {\n      return cartItem.name !== item.name;\n    });\n    setCartData(updatedCart);\n    var updatedGlobalCart = global.mycart.filter(function (cartItem) {\n      return cartItem.name !== item.name;\n    });\n    global.mycart = updatedGlobalCart;\n  };\n  useEffect(function () {\n    setCartData(global.mycart || []);\n  }, [global.mycart]);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.cartTitle,\n      children: \"Shopping Cart\"\n    }), _jsx(FlatList, {\n      data: cartData,\n      keyExtractor: function keyExtractor(item) {\n        return item.name;\n      },\n      renderItem: renderCartItem,\n      style: styles.cartList\n    }), addedItems && addedItems.length > 0 && _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('Checkout');\n      },\n      style: styles.checkoutButton,\n      children: _jsx(Text, {\n        style: styles.checkoutButtonText,\n        children: \"Proceed to Checkout\"\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 15,\n    backgroundColor: '#fff'\n  },\n  cartTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 10\n  },\n  cartList: {\n    marginBottom: 10\n  },\n  cartItemContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10,\n    borderWidth: 1,\n    borderRadius: 8,\n    padding: 10\n  },\n  cartItemImage: {\n    height: 50,\n    width: 50,\n    borderRadius: 5\n  },\n  cartItemDetails: {\n    flex: 1,\n    marginLeft: 10\n  },\n  cartItemName: {\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  removeButton: {\n    backgroundColor: 'red',\n    padding: 8,\n    borderRadius: 5\n  },\n  removeButtonText: {\n    color: '#fff'\n  },\n  checkoutButton: {\n    backgroundColor: 'green',\n    padding: 15,\n    borderRadius: 8,\n    alignItems: 'center'\n  },\n  checkoutButtonText: {\n    color: '#fff',\n    fontWeight: 'bold'\n  }\n});\nexport default Cart;","map":{"version":3,"names":["React","useState","useEffect","View","Text","FlatList","Image","TouchableOpacity","jsx","_jsx","jsxs","_jsxs","Cart","_ref","route","navigation","_ref2","params","addedItems","_useState","_useState2","_slicedToArray","cartData","setCartData","removeFromCart","item","updatedCart","filter","cartItem","name","updatedGlobalCart","global","mycart","style","styles","container","children","cartTitle","data","keyExtractor","renderItem","renderCartItem","cartList","length","onPress","navigate","checkoutButton","checkoutButtonText","StyleSheet","create","flex","padding","backgroundColor","fontSize","fontWeight","marginBottom","cartItemContainer","flexDirection","alignItems","borderWidth","borderRadius","cartItemImage","height","width","cartItemDetails","marginLeft","cartItemName","removeButton","removeButtonText","color"],"sources":["C:/DiaD/HocHanh/ReactNative/Example03/component/CartScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, FlatList, Image, TouchableOpacity } from 'react-native';\n\nfunction Cart({ route, navigation }) {\n  const { addedItems } = route.params || {};\n  const [cartData, setCartData] = useState(addedItems || []);\n\n  const removeFromCart = (item) => {\n    // Update the local state to remove the item from the cart\n    const updatedCart = cartData.filter(cartItem => cartItem.name !== item.name);\n    setCartData(updatedCart);\n\n    // Implement logic to remove the item from the global cart\n    // For simplicity, let's assume global.mycart is your cart data\n    const updatedGlobalCart = global.mycart.filter(cartItem => cartItem.name !== item.name);\n    global.mycart = updatedGlobalCart;\n  };\n\n  useEffect(() => {\n    // Update the local state when the component mounts or when global.mycart changes\n    setCartData(global.mycart || []);\n  }, [global.mycart]);\n\n  return (\n    \n    <View style={styles.container}>\n    <Text style={styles.cartTitle}>Shopping Cart</Text>\n    <FlatList\n      data={cartData}\n      keyExtractor={(item) => item.name}\n      renderItem={renderCartItem}\n      style={styles.cartList}\n    />\n    {addedItems && addedItems.length > 0 && (\n      <TouchableOpacity onPress={() => navigation.navigate('Checkout')} style={styles.checkoutButton}>\n        <Text style={styles.checkoutButtonText}>Proceed to Checkout</Text>\n      </TouchableOpacity>\n    )}\n  </View>\n);\n}\n\nconst styles = StyleSheet.create({\ncontainer: {\n  flex: 1,\n  padding: 15,\n  backgroundColor: '#fff',\n},\ncartTitle: {\n  fontSize: 20,\n  fontWeight: 'bold',\n  marginBottom: 10,\n},\ncartList: {\n  marginBottom: 10,\n},\ncartItemContainer: {\n  flexDirection: 'row',\n  alignItems: 'center',\n  marginBottom: 10,\n  borderWidth: 1,\n  borderRadius: 8,\n  padding: 10,\n},\ncartItemImage: {\n  height: 50,\n  width: 50,\n  borderRadius: 5,\n},\ncartItemDetails: {\n  flex: 1,\n  marginLeft: 10,\n},\ncartItemName: {\n  fontSize: 16,\n  fontWeight: 'bold',\n},\nremoveButton: {\n  backgroundColor: 'red',\n  padding: 8,\n  borderRadius: 5,\n},\nremoveButtonText: {\n  color: '#fff',\n},\ncheckoutButton: {\n  backgroundColor: 'green',\n  padding: 15,\n  borderRadius: 8,\n  alignItems: 'center',\n},\ncheckoutButtonText: {\n  color: '#fff',\n  fontWeight: 'bold',\n},\n});\n\nexport default Cart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}